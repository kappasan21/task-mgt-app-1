{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import AppointManagement from'./component/AppointManagement';import TaskManagement from'./component/TaskManagement';import axios from'axios';// import { useContext, createContext, useCallback } from 'react';\nimport{createContext}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const AppointContext=/*#__PURE__*/createContext();function App(){// For token authentication function\nconst[isAuthenticated,setIsAuthenticated]=useState(false);const[tokenUser,setTokenUser]=useState('');// Validate token only once when accessing this web app \nuseEffect(()=>{// Send a request to validate the token\naxios.post('http://localhost:3111/validate-token',{},{withCredentials:'include'// instead of true\n}).then(response=>{console.log(\"Client received: \",response.data);// alert(\"Logged in successfully\");\nsetIsAuthenticated(true);setTokenUser(response.data.username);}).catch(error=>{console.error(\"Failed to validate token with the server: \",error);});},[]);function handleBackToLoginClick(e){e.preventDefault();axios.post('http://localhost:3111/logout',null,{withCredentials:true}).then(response=>{console.log('Log out successfully.',response.data);alert('Logged out successfully');setIsAuthenticated(false);window.location.href='http://localhost:3111';}).catch(err=>{console.error('Error logging out: ',err);alert('Error logging out: ',err);});// Clear local storage\nlocalStorage.clear();}function handleBackToMenuClick(e){e.preventDefault();// Back to App Menu Page\nwindow.location.href='http://localhost:3111/menu';}// LOCAL STORAGE CONFIGURATION:\n// JSON.stringify and JSON.parse are MUST!!!!\n// Automatically save before reloading\nwindow.addEventListener('beforeunload',()=>{localStorage.setItem(\"tasks\",JSON.stringify(tasks));localStorage.setItem(\"appointments\",JSON.stringify(appointments));});// Automatically load data from local storage\nwindow.addEventListener(\"load\",()=>{let localSavedTasks=JSON.parse(localStorage.getItem(\"tasks\"));let localSavedAppointments=JSON.parse(localStorage.getItem(\"appointments\"));if(!localSavedTasks){localSavedTasks=[];setTasks(localSavedTasks);}else{setTasks(JSON.parse(localStorage.getItem(\"tasks\")));}if(!localSavedAppointments){localSavedAppointments=[];setAppointments(localSavedAppointments);}else{setAppointments(JSON.parse(localStorage.getItem(\"appointments\")));}});// page determines which app opens now. 1 = task management app, 2 = appointments app\nconst[page,setPage]=useState(1);const[tasks,setTasks]=useState([]);// Page Control\nconst handlePageClick=pageNumber=>{setPage(pageNumber);};// Task Management\nconst[newTask,setNewTask]=useState({});// FUNCTION: get use input\nconst handleNewTaskChange=e=>{// This is a special case, and define with let but not const here.\nconst{name,value}=e.target;setNewTask(prev=>({...prev,id:Date.now(),[name]:value}));console.log(name,\", \",value,\" in handleNewTaskChange\");};// Manage remaining days until the due\n// const [remDays, setRemDays] = useState('');\n// Calculate the remaining days\nconst calculateRemDays=dueDate=>{console.log(\"Check point in calculateRemDays\");const dueDateObj=new Date(dueDate);const today=new Date();const diffTime=Math.abs(dueDateObj-today);const diffDays=Math.ceil(diffTime/(1000*60*60*24));// setRemDays(diffDays);\nreturn diffDays;};// Declare useRef to scroll to the location of the newly added item\nconst taskSubmitRef=useRef(null);// Submit the current task\nconst handleSubmitTask=e=>{e.preventDefault();taskSubmitRef.current.scrollIntoView({behavior:\"smooth\"});// Calculate remaining days based on the due date and insert it to newTask info.\nconsole.log(\"newTask before submit task: \",newTask);const tempNewTask=newTask;if(newTask.dueDate){const result=calculateRemDays(newTask.dueDate);tempNewTask.remainingDays=result;console.log(\"newTask about to submit: \",tempNewTask);setTasks(prev=>[...prev,tempNewTask]);}else{tempNewTask.remainingDays=\"TBA\";console.log(\"newTask about to submit: \",tempNewTask);setTasks(prev=>[...prev,tempNewTask]);}setNewTask({});};const handleTaskDelete=targetId=>{setTasks(tasks.filter(task=>task.id!==targetId));};// Declare useRef to scroll to the position of Input Form\nconst modifyFirmRef=useRef(null);// Edit the task info in task list\nconst handleEditTaskClick=targetId=>{modifyFirmRef.current.scrollIntoView({behavior:\"smooth\"});console.log(\"targetId of task you clicked is: \",targetId);const targetTask=tasks.find(task=>task.id===targetId);console.log(\"Found the target! \",targetTask);if(!targetTask){// This shouldn't occur as normal.  So, this case is an error case.\nconsole.error(\"Couldn't find the target task for some error...\");return;}// Display the task found in the form\nsetNewTask(targetTask);// Delete the duplicate in the task array\nsetTasks(tasks.filter(task=>task.id!==targetTask.id));};// Handle Appointments\nconst[appointment,setAppointment]=useState({});const[appointments,setAppointments]=useState([]);function handleNewAppointChange(e){const{name,value}=e.target;setAppointment(prev=>({...prev,id:Date.now(),[name]:value}));console.log(name,\" : \",value);}function handleAppointSubmit(e){e.preventDefault();const startTime=new Date(appointment.start);const endTime=new Date(appointment.end);console.log(\"Start time: \",startTime,\", End time: \",endTime);// setAppointments((prev) => [...prev, appointment]);\nif(appointment.start&&appointment.end&&new Date(appointment.start)<=new Date(appointment.end)){setAppointments([...appointments,{...appointment,start:startTime,end:endTime}]);}else{alert(\"Invalid event time range! Start time must be before end time.\");}setAppointment({});}function handleAppointDelete(targetId){setAppointments(appointments.filter(item=>item.id!==targetId));}// JSX\nreturn/*#__PURE__*/_jsx(\"div\",{id:\"App-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",ref:modifyFirmRef,children:[/*#__PURE__*/_jsxs(\"div\",{id:\"App-header\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"App-header-left\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"menu-btn\",onClick:handleBackToMenuClick,children:\"Back To Menu\"}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:handleBackToLoginClick,children:\"Logout\"})]}),page===1?/*#__PURE__*/_jsxs(\"div\",{id:\"App-header-center\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"main-title\",children:\"Task Management App\"}),/*#__PURE__*/_jsx(\"p\",{id:\"main-second-title\",onClick:()=>handlePageClick(2),children:\"Appointment Management App\"})]}):page===2?/*#__PURE__*/_jsxs(\"div\",{id:\"App-header-center\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"main-title\",children:\"Appointment Management App\"}),/*#__PURE__*/_jsx(\"p\",{id:\"main-second-title\",onClick:()=>handlePageClick(1),children:\"Task Management App\"})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Error\"}),/*#__PURE__*/_jsx(\"div\",{id:\"App-header-right\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{id:\"col1\",children:\"USER:\"}),/*#__PURE__*/_jsx(\"span\",{id:\"col2\",children:tokenUser})]})})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"App-main\",children:[page===1?/*#__PURE__*/_jsx(TaskManagement,{newTask:newTask,tasks:tasks,handleSubmitTask:handleSubmitTask,handleNewTaskChange:handleNewTaskChange,handleTaskDelete:handleTaskDelete,handleEditTaskClick:handleEditTaskClick}):null,page===2?/*#__PURE__*/_jsx(AppointContext.Provider,{value:handleAppointDelete,children:/*#__PURE__*/_jsx(AppointManagement,{appointment:appointment,appointments:appointments,handleNewAppointChange:handleNewAppointChange,handleAppointSubmit:handleAppointSubmit,handleAppointDelete:handleAppointDelete})}):null]}),/*#__PURE__*/_jsxs(\"div\",{id:\"App-footer\",ref:taskSubmitRef,children:[/*#__PURE__*/_jsx(\"div\",{id:\"footer-left-container\"}),/*#__PURE__*/_jsx(\"div\",{id:\"footer-center-container\",children:/*#__PURE__*/_jsx(\"p\",{id:\"company-logo\",children:\"\\uD83C\\uDF4AMikan Corp.\"})}),/*#__PURE__*/_jsxs(\"div\",{id:\"footer-right-container\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Contacts:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"mikan@mikan.com\"}),/*#__PURE__*/_jsx(\"p\",{children:\"somewhere in Germany\"})]})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","AppointManagement","TaskManagement","axios","createContext","jsx","_jsx","jsxs","_jsxs","AppointContext","App","isAuthenticated","setIsAuthenticated","tokenUser","setTokenUser","post","withCredentials","then","response","console","log","data","username","catch","error","handleBackToLoginClick","e","preventDefault","alert","window","location","href","err","localStorage","clear","handleBackToMenuClick","addEventListener","setItem","JSON","stringify","tasks","appointments","localSavedTasks","parse","getItem","localSavedAppointments","setTasks","setAppointments","page","setPage","handlePageClick","pageNumber","newTask","setNewTask","handleNewTaskChange","name","value","target","prev","id","Date","now","calculateRemDays","dueDate","dueDateObj","today","diffTime","Math","abs","diffDays","ceil","taskSubmitRef","handleSubmitTask","current","scrollIntoView","behavior","tempNewTask","result","remainingDays","handleTaskDelete","targetId","filter","task","modifyFirmRef","handleEditTaskClick","targetTask","find","appointment","setAppointment","handleNewAppointChange","handleAppointSubmit","startTime","start","endTime","end","handleAppointDelete","item","children","className","ref","onClick","Provider"],"sources":["F:/WorkSpace/FrontendWP/lessons/task-appoint-mgt-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport AppointManagement from './component/AppointManagement';\nimport TaskManagement from './component/TaskManagement';\nimport axios from 'axios';\n\n// import { useContext, createContext, useCallback } from 'react';\nimport { createContext } from 'react';\nexport const AppointContext = createContext();\n\n\n\nfunction App() {\n  // For token authentication function\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [tokenUser, setTokenUser] = useState('');\n  // Validate token only once when accessing this web app \n  useEffect(() => {\n    // Send a request to validate the token\n    axios.post('http://localhost:3111/validate-token', {}, {\n      withCredentials: 'include', // instead of true\n    })\n    .then((response) => {\n      console.log(\"Client received: \", response.data);\n      // alert(\"Logged in successfully\");\n      setIsAuthenticated(true);\n      setTokenUser(response.data.username);\n    })\n    .catch((error) => {\n      console.error(\"Failed to validate token with the server: \", error);\n    });\n  }, []);\n\n  function handleBackToLoginClick(e) {\n    e.preventDefault();\n    \n    axios.post('http://localhost:3111/logout', null, {\n      withCredentials: true,\n    })\n    .then((response) => {\n      console.log('Log out successfully.', response.data);\n      alert('Logged out successfully');\n      setIsAuthenticated(false);\n      window.location.href = 'http://localhost:3111';\n    })\n    .catch((err) => {\n      console.error('Error logging out: ', err);\n      alert('Error logging out: ', err);\n    });\n\n    // Clear local storage\n    localStorage.clear();\n  }\n\n  function handleBackToMenuClick(e) {\n    e.preventDefault();\n    // Back to App Menu Page\n    window.location.href='http://localhost:3111/menu';\n  }\n\n  // LOCAL STORAGE CONFIGURATION:\n  // JSON.stringify and JSON.parse are MUST!!!!\n  // Automatically save before reloading\n  window.addEventListener('beforeunload', () => {\n    localStorage.setItem(\"tasks\", JSON.stringify(tasks));\n    localStorage.setItem(\"appointments\", JSON.stringify(appointments));\n  });\n  // Automatically load data from local storage\n  window.addEventListener(\"load\", () => {\n    let localSavedTasks = JSON.parse(localStorage.getItem(\"tasks\"));\n    let localSavedAppointments = JSON.parse(localStorage.getItem(\"appointments\"));\n    if(!localSavedTasks) {\n      localSavedTasks = [];\n      setTasks(localSavedTasks);\n    } else {\n      setTasks(JSON.parse(localStorage.getItem(\"tasks\")));\n    }\n\n    if(!localSavedAppointments) { \n      localSavedAppointments = [];\n      setAppointments(localSavedAppointments);\n    } else {\n      setAppointments(JSON.parse(localStorage.getItem(\"appointments\")));\n    }\n  });\n\n\n\n  // page determines which app opens now. 1 = task management app, 2 = appointments app\n  const [page, setPage] = useState(1);\n  const [tasks, setTasks] = useState([]);\n\n  // Page Control\n  const handlePageClick = (pageNumber) => {\n    setPage(pageNumber);\n  };\n\n\n\n  // Task Management\n  const [newTask, setNewTask] = useState({});\n  // FUNCTION: get use input\n  const handleNewTaskChange = (e) => {\n    // This is a special case, and define with let but not const here.\n    const {name, value} = e.target;\n    \n    setNewTask((prev) => ({...prev, id: Date.now(), [name]: value}));\n    console.log(name, \", \", value, \" in handleNewTaskChange\");\n  };\n\n  // Manage remaining days until the due\n  // const [remDays, setRemDays] = useState('');\n  // Calculate the remaining days\n  const calculateRemDays = (dueDate) => {\n    console.log(\"Check point in calculateRemDays\");\n    const dueDateObj = new Date(dueDate);\n    const today = new Date();\n    const diffTime = Math.abs(dueDateObj - today);\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n\n    // setRemDays(diffDays);\n    return diffDays;\n  };\n\n\n  // Declare useRef to scroll to the location of the newly added item\n  const taskSubmitRef = useRef(null);\n  // Submit the current task\n  const handleSubmitTask = (e) => {\n    e.preventDefault();\n    \n    taskSubmitRef.current.scrollIntoView({ behavior: \"smooth\" });\n\n    // Calculate remaining days based on the due date and insert it to newTask info.\n    console.log(\"newTask before submit task: \", newTask);\n    const tempNewTask = newTask;\n    if(newTask.dueDate) {\n      const result = calculateRemDays(newTask.dueDate);\n      tempNewTask.remainingDays = result;\n      console.log(\"newTask about to submit: \", tempNewTask);\n      setTasks((prev) => [...prev, tempNewTask]);\n    } else {\n      tempNewTask.remainingDays = \"TBA\";\n      console.log(\"newTask about to submit: \", tempNewTask);\n      setTasks((prev) => [...prev, tempNewTask]);\n    }\n\n    setNewTask({});\n  };\n\n  const handleTaskDelete = (targetId) => {\n    setTasks(tasks.filter((task) => task.id !== targetId));\n  };\n\n\n  // Declare useRef to scroll to the position of Input Form\n  const modifyFirmRef = useRef(null);\n  // Edit the task info in task list\n  const handleEditTaskClick = (targetId) => {\n    modifyFirmRef.current.scrollIntoView({ behavior: \"smooth\"});\n    console.log(\"targetId of task you clicked is: \", targetId);\n    const targetTask = tasks.find((task) => task.id === targetId);\n    console.log(\"Found the target! \", targetTask);\n    if(!targetTask) {\n      // This shouldn't occur as normal.  So, this case is an error case.\n      console.error(\"Couldn't find the target task for some error...\");\n      return;\n    }\n    // Display the task found in the form\n    setNewTask(targetTask);\n    // Delete the duplicate in the task array\n    setTasks(tasks.filter((task) => task.id !== targetTask.id));\n  };\n\n\n\n\n\n  // Handle Appointments\n  const [appointment, setAppointment] = useState({});\n  const [appointments, setAppointments] = useState([]);\n\n\n  function handleNewAppointChange(e) {\n    const {name, value} = e.target;\n    setAppointment((prev) => ({...prev, id: Date.now(), [name]: value}));\n    console.log(name, \" : \", value);\n  }\n\n  function handleAppointSubmit(e) {\n    e.preventDefault();\n\n\n    const startTime = new Date(appointment.start)\n    const endTime = new Date(appointment.end);\n    console.log(\"Start time: \", startTime, \", End time: \", endTime);\n    // setAppointments((prev) => [...prev, appointment]);\n    if (appointment.start && appointment.end && new Date(appointment.start) <= new Date(appointment.end)) {\n      setAppointments([\n        ...appointments,\n        {\n          ...appointment,\n          start: startTime,\n          end: endTime,\n        },\n      ]);\n    } else {\n      alert(\"Invalid event time range! Start time must be before end time.\");\n    }\n    setAppointment({});\n  }\n\n  function handleAppointDelete(targetId) {\n    setAppointments(appointments.filter((item) => item.id !== targetId));\n  }\n\n  \n\n\n  // JSX\n  return (\n    <div id=\"App-body\">\n      {/* {!isAuthenticated ? \n        <div>\n          <p>The authentication token has been expired...</p>\n          <p>Please login again.</p>\n          <button style={{width: \"50%\", margin: \"0 auto\"}} onClick={handleBackToLoginClick}>Back to Login Page</button>\n        </div>\n        : */}\n        <div className=\"App\" ref={modifyFirmRef}>\n          <div id=\"App-header\">\n            <div id=\"App-header-left\">\n              <button className=\"menu-btn\" onClick={handleBackToMenuClick}>Back To Menu</button>\n              <button className=\"logout-btn\" onClick={handleBackToLoginClick}>Logout</button>\n            </div>\n            {page===1 ? \n              <div id=\"App-header-center\">\n                <h1 id=\"main-title\">Task Management App</h1>\n                <p id=\"main-second-title\" onClick={() => handlePageClick(2)}>Appointment Management App</p>\n              </div> \n              :\n            page===2 ? \n              <div id=\"App-header-center\">\n                <h1 id=\"main-title\">Appointment Management App</h1>\n                <p id=\"main-second-title\" onClick={() => handlePageClick(1)}>Task Management App</p> \n              </div>\n              : \n            <p>Error</p>}\n            <div id=\"App-header-right\">\n              <p><span id=\"col1\">USER:</span><span id=\"col2\">{tokenUser}</span></p>\n            </div>\n          </div>\n\n          <div id=\"App-main\">\n            {page === 1 ? \n              <TaskManagement \n                newTask={newTask}\n                tasks={tasks} \n                handleSubmitTask={handleSubmitTask}\n                handleNewTaskChange={handleNewTaskChange}\n                handleTaskDelete={handleTaskDelete}\n                handleEditTaskClick={handleEditTaskClick}\n              /> \n              : \n              null}\n\n            {page === 2 ? \n              <AppointContext.Provider value={handleAppointDelete}>\n                <AppointManagement \n                  appointment={appointment}\n                  appointments={appointments} \n                  handleNewAppointChange={handleNewAppointChange}\n                  handleAppointSubmit={handleAppointSubmit}\n                  handleAppointDelete={handleAppointDelete}\n                /> \n              </AppointContext.Provider>\n              : \n              null}\n          </div>\n\n          <div id=\"App-footer\" ref={taskSubmitRef}>\n            <div id=\"footer-left-container\">\n            </div>\n\n            <div id=\"footer-center-container\">\n              <p id=\"company-logo\">🍊Mikan Corp.</p>\n            </div>\n            \n            <div id=\"footer-right-container\">\n              <p>Contacts:</p>\n              <p>mikan@mikan.com</p>\n              <p>somewhere in Germany</p>\n            </div>\n          </div>\n        </div>\n      {/* } */}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}